# Encord
set-window-option -g utf8 on
set-window-option -g mode-keys vi
set-window-option -g automatic-rename off

# Ctrl + D で予期せず閉じてしまう問題を回避したいがうまくいかない
# http://superuser.com/questions/479600/how-can-i-prevent-tmux-exiting-with-ctrl-d
set-environment -g 'IGNOREEOF' 10

# Vim
# Tmux + Vimの環境でEscキーの反応が遅い問題の対策
# http://unix.stackexchange.com/questions/23138/esc-key-causes-a-small-delay-in-terminal-due-to-its-alt-behavior
set -s escape-time 0

##
# Key Bind
# Prefix
unbind C-b
set-option -g prefix C-t
bind C-t send-prefix

# Split window
bind s split-window -v
bind v split-window -h

# Copy like vim
bind -t vi-copy v begin-selection
bind -t vi-copy y copy-selection
bind -t vi-copy V rectangle-toggle

# Select pane
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R
bind -n C-o select-pane -t :.+

# Reload config
# https://github.com/machu/dotfiles/blob/master/.tmux.conf
bind r source-file ~/.tmux.conf\; display-message "Reload Config!!"

##
# View
# window-status-current
# Pane border color
set -g pane-border-fg colour235
set -g pane-active-border-fg colour240
set -g pane-active-border-bg colour238

# message
set -g message-attr bold
set -g message-fg white
set -g message-bg red

# Clipboard
# http://mironal-memo.blogspot.jp/2013/06/mac-tmux.html
set-option -g default-command \
'which reattach-to-user-namespace > /dev/null 2>&1 && \
reattach-to-user-namespace -l $SHELL || $SHELL'

# status
if "test `uname` = 'Darwin'" "source '/usr/local/lib/python2.7/site-packages/powerline/bindings/tmux/powerline.conf'"
if "test `uname` = 'Linux'" "source ~/.local/lib/python2.7/site-packages/powerline/bindings/tmux/powerline.conf"
